{{ block title }}
    Results
{{ endblock }}

{{ block content }}

<h2>
    End of day {{ player.round_number }} as {{ player.role_own }} role.
</h2>

{{ if player.role_own == 'UC'}}
    {{ if player.sold > 0 }}
        The clearing price is {{ Constants.ClP }}. <br>
    {{ endif }}
{{ endif }}

{{ if player.role_own == 'CH'}}
    {{ if player.bought > 0 }}
        The clearing price is {{ Constants.ClP }}. <br>
    {{ endif }}
{{ endif }}

{{ if player.role_own == 'UC' or player.role_own == 'CH' }}
    The default operator's tariff is {{ Constants.OpTariff }}. <br> <br>

<table class="table results-table">
    <thead>
        <tr>
            <th scope="col">Balance</th>
            <th scope="col">Stored</th>
            {{ if player.role_own == 'UC' }}
                <th colspan="2">Pushed to platform</th>
                <th colspan="2">Disposed through standard means</th>
            {{ endif }}
            {{ if player.role_own == 'CH' }}
                <th colspan="2">Bought from UC</th>
                <th colspan="2">Sold</th>
            {{ endif }}
        </tr>
    </thead>
    <tbody>
        <tr>
            <td></td>
            <td></td>
            {{ if player.role_own == 'UC' }}
                <td>Offered</td>
                <td>Sold to CH</td>
                <td>Willingly</td>
                <td>Not sold to CH</td>
            {{ endif }}
            {{ if player.role_own == 'CH' }}
                <td>Demanded</td>
                <td>Bought</td>
                <td>To CH (some ID)</td>
                <td>To RE (some ID)</td>
            {{ endif }}
        </tr>
        <tr>
            <td>{{ player.participant.balance }}</td>
            <td>{{ player.participant.store }}</td>
            {{ if player.role_own == 'UC' }}
                <td>{{ player.actionPP }}</td>
                <td>{{ player.sold }}</td>
                <td>{{ player.actionD }}</td>
                <td>{{ player.UCOpenSupply }}</td>
            {{ endif }}
            {{ if player.role_own == 'CH' }}
                <td>{{ player.actionBCH }}</td>
                <td>{{ player.bought }}</td>
                <td>TBD</td>
                <td>TBD</td>
            {{ endif }}
        </tr>
    </tbody>
</table>
<br>
{{ else }}
  <p>
      You might have bought some items.
  </p>

{{ endif }}


{{ next_button }}
{{ endblock }}

{{ block styles }}
<style>
    .results-table {
        border-collapse: collapse;
        width: 100%;
        text-align: center
    }
    .results-table td, .results-table th {
        padding: 8px;
    }

    .results-table tr:nth-child(odd){
        background-color: #f2f2f2;
    }

    .results-table tr th:nth-of-type(2),
    .results-table tr th:nth-of-type(3),
    .results-table tr td:nth-of-type(2),
    .results-table tr td:nth-of-type(4){
        border: 1px solid #ddd;
        border-right: 1px solid black;
    }

    .results-table tr th:nth-of-type(1),
    .results-table tr th:nth-of-type(4),
    .results-table tr td:nth-of-type(1),
    .results-table tr td:nth-of-type(6){
        border: 1px solid #ddd;
    }

    .results-table th {
        padding-top: 12px;
        padding-bottom: 12px;
        background-color: #5C933F;
        color: white;
    }
</style>
{{ endblock }}
